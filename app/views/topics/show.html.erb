<div class="page-header">
  <h1 class="page-title"><%= @topic.name %></h1>
  <p class="page-subtitle">Verses associated with this topic</p>
</div>

<div class="content-section">
  <div class="section-header">
    <div class="d-flex justify-between items-center">
      <h2 class="section-title" id="verse-count">
        <%= render partial: "verse_count", locals: { count: @grouped_verse_topics.sum { |g| g.map { |vt| vt.bible_verse }.uniq.length } } %>
      </h2>
      <%= link_to "â† Back to Topics", topics_path, class: "btn btn-outline" %>
    </div>
  </div>
  
  <div class="section-content">
    <%= render partial: "verses_list", locals: { grouped_verse_topics: @grouped_verse_topics, topic: @topic } %>
    <% if current_user && current_user.can_create? %>
      <div class="add-verse-section mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200">
        <h3 class="text-lg font-semibold mb-4">Add a Verse to This Topic</h3>
        <div id="add-verse-to-topic-form">
          <%= render partial: "add_verse_form", locals: { errors: @errors || [] } %>
        </div>
      </div>
    <% end %>
  </div>
</div>

