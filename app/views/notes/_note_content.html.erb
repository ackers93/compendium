<div id="note-content">
  <div class="page-header">
    <h1 class="page-title">
      <%= note.title %>
      <% if note.draft? %>
        <span class="badge badge-secondary ml-2">Draft</span>
      <% end %>
    </h1>
    <div class="d-flex gap-2 mb-4">
      <% note.tag_list.each do |tag| %>
        <span class="badge badge-primary"><%= tag %></span>
      <% end %>
    </div>
  </div>

  <div class="content-section">
    <div class="section-content">
      <div class="note-content">
        <%= note.content %>
      </div>
      
      <% if current_user %>
        <div class="note-actions mt-6 d-flex gap-2">
          <% if note.draft? && current_user.can_edit?(note) %>
            <%= button_to publish_note_path(note), 
                method: :patch, 
                class: "btn btn-primary" do %>
              <i class="fa-solid fa-paper-plane"></i>
              Publish Note
            <% end %>
          <% end %>
          
          <% if current_user.can_edit?(note) %>
            <%= link_to edit_note_path(note), 
                class: "btn btn-outline", 
                data: { turbo_frame: "modal" } do %>
              <i class="fa-solid fa-edit"></i>
              Edit Note
            <% end %>
          <% end %>
          
          <% if current_user.can_delete?(note) %>
            <%= button_to note_path(note), 
                method: :delete, 
                class: "btn btn-danger",
                data: { confirm: "Are you sure you want to delete this note?" } do %>
              <i class="fa-solid fa-trash"></i>
              Delete Note
            <% end %>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</div>