<div class="w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
  <% end %>

  <div class="flex justify-between items-center">
    <h1 class="font-bold text-4xl">Notes</h1>
    <%= button_to 'Publish a New Note', new_note_path, method: :get, data: { turbo_frame: 'modal' }, class: "rounded-lg py-3 px-5 bg-blue-600 text-white block font-medium" %>
  </div>

  <div id="notes" class="min-w-full mt-4 mb-4 p-8 border-4 border-x-green-800">
    <table id="notestable" class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
    <thead>
      <tr>
        <th scope="col" class="py-3 px-6">
            Title
        </th>
        <th scope="col" class="py-3 px-6">
            Content
        </th>
        <th scope="col" class="py-3 px-6">
            Tags
        </th>
      </tr>  
      </thead>   
        <tbody>
        <% @notes.each do |note| %>
            <tr class="bg-white border-b dark:bg-gray-900 dark:border-gray-700">
              <td><%= link_to note.title, note %></td>
              <td> <%= note.content.to_plain_text.truncate(20) %></td>
              <td>
               <div class="flex row-auto">
                <% note.tag_list.each do |tag| %>
                  <div class="bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150">
                  <%= tag %>
                  </div>
                <% end %>
                </div>
              </td>
            </tr>
        <% end %>
        </tbody>
      </tr>
    </table>
  </div>
</div>

<script>

$(document).ready( function () {
    $('#notestable').DataTable();
} );

</script>